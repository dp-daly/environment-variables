<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add to your shelf</title>
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Libre+Caslon+Text:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
</head>
</head>
<body>
    <%- include('./partials/nav') %>
<h1>Add book to your shelf</h1>

  <% if (typeof errorMessages !== 'undefined' && errorMessages && errorMessages.length > 0) { %>
    <p style="background-color:Tomato;">Invalid input:<br> 
        <ul>
        <% errorMessages.forEach((err) => { %>
        <li><%= err %></li>
        <% }); %>
        </ul>
    </p>
  <% } %>

  <% if (typeof systemErrorMessage !== 'undefined') { %>
    <p><%= systemErrorMessage %></p>
  <% } %>

<form action="/books" method="POST">
    <label for="title">Title:</label>
    <input type="text" name="title" value="<%= typeof formData !== 'undefined' ? formData.title : '' %>" autocomplete="off">
    <label for="author">Author:</label>
    <input type="text" name="author" value="<%= typeof formData !== 'undefined' ? formData.author : '' %>"  autocomplete="off">
    <label for="year">Publication year:</label>
    <input type="text" name="year" value="<%= typeof formData !== 'undefined' ? formData.year : '' %>"  autocomplete="off">
    <label for="publisher">Publisher:</label>
    <input type="text" name="publisher" value="<%= typeof formData !== 'undefined' ? formData.publisher : '' %>"  autocomplete="off">
    <label for="language">Language:</label>
    <input type="text" name="language" value="<%= typeof formData !== 'undefined' ? formData.language : '' %>"  autocomplete="off">
    <label for="country">Country:</label>
    <input type="text" name="country" value="<%= typeof formData !== 'undefined' ? formData.country : '' %>"  autocomplete="off">
    <label for="genre">Genre <i>(optional)</i>:</label>
    <input type="text" name="genre" value="<%= typeof formData !== 'undefined' ? formData.genre : '' %>"  autocomplete="off">
    <label for="details">Please provide a brief synopsis <i>(optional)</i>:</label>
    <input type="text" name="details" value="<%= typeof formData !== 'undefined' ? formData.details : '' %>"  autocomplete="off">
    <label for="image">Image URL <i>(optional)</i>:</label>
    <input type="text" name="image" value="<%= typeof formData !== 'undefined' ? formData.image : '' %>"  autocomplete="off">

    <button type="submit">Add book to your shelf</button>
</form>
    
</body>
<%- include('./partials/footer') %>
</html>